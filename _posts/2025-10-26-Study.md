### 성능
- 응용 구조와 시스템 동작 특성을 이해하고, 성능 저하와 같은 장애 발생 원인을 분석 한다.
- 응용 구조 설계 및 개선 시 적절한 기술과 도구를 활용한다.

- 성능
  - 성능에 영향을 미치는 요소
    - 처리량, 응답시간, 자원사용량, 사용자
  - 응답시간 구성
    - 클라이언트 처리시간(렌더링, 화면로직) 
	- 네트워크 처리시간 (DNS, 업로드, 다운로드)
	- 서버 응답시간 ( 서버처리시간(웹, AP, DB)), 연계응답시간
  - 성능테스트 유형
    - 성능테스트, 벤치마크테스트, 내구성테스트(품질평가), 가용성테스트(장애영향도,영속성), 과부하테스트(최대성능평가)
  - 성능테스트 구성요소
    - 성능목표, 부하모델, 테스트환경, 데이터
  - 성능저하 원인 파악
    - APM확인, OS자원모니터링, JAVA GC모니터링, 스택수집
  - 시스템동작이해
    - 어떤작업(stack,perf top), 파일/네트워크(lsof,strace), SQL작업(APM), 화면구성	

### 최적화
- 병렬/분산처리
  - HTTP 호출, 반복 작업 병렬처리
  - 테이블 파티션 분할
  - DB Sharding을 통한 사용자 요청 분산
  - 디렉토리/파일을 세분화하여 파일 입출력 분산
  - 배치 병렬처리
- 비동기 처리
  - 화면 오래 걸리는 항목 비동기처리, 메시지발송/후행업무 비동기 처리, 디스크/로깅 입출력 비동기
- 캐시처리
  - 프레임워크와 AP에서 반복적으로 사용하는 데이터 캐시
  - 변경주기가 길고, 사용빈도가 높은 정보 캐시
  - 메인화면의 일부 내용 캐시
  - 반복되는 계산/응용 로직 캐시
  - 화면 콘텐츠 브라우저 캐시
- 집합처리
  - 처리 건수가 많은 DB DML 
  - 대용량 데이터 스트림처리(DB cursor, excel)
  - 배치와 온라인 DB Fetch건수 구분 처리
  - 파일 I/O에 대한 집합처리 or 버퍼링
  - 네트워크 데이터 송수신 집합처리
  - HTTP 호출 집합처리
- 오버헤드 제거
  - 기능 사용을 위한 반복적인 초기화 제거
  - 불필요하게 수행되는 로깅 메시지 생성 코드
  - 반복되는 파싱 제거
  - 스레드 내 or 스레드 간에 반복 수행되는 기능 제거
  - 필요 이상으로 크게 설정된 자원으로 인한 초기화
- 경합제거
  - 로그 파일 경합 제거
  - 업무처리 단계에서 DB Lock을 최소화하도록 DML을 업무처리 뒷 부분으로 위치 변경
  - 레크드 입력 시 테이블 경합 제거
  - 채번 경합 제거
- 송수신/저장 효율화
  - 압축, 소스 최적화, 전문구조 최적화, 이미지품질/포멧, RTT,재전송,대역폭 네트워크 품질 개선
- SQL 실행 개선
  - SQL제거, 조회조건 강화, 페이징 스크롤 방식 전환(총건수제외)
  - SQL bind 변수처리(hard parsing 축소)
  - 실행계획 개선, 인덱스 최적화, 테이블 통계 주기적 갱신, 테이블 파티션 적용
- 자원 사용 효율화
  - CPU, 메모리 사용량 개선, 메모리 누수 제거
  - GC 효율화, 적절한 자원 크기 할당, 불필요한 파일 입출력 제거

### 사례
- 클라우드 전환 후 배치 OOM
  - 클라우드로 전환되면서 oracle과 클라우드향 DB를 혼용해서 사용하게 되면 AP의 로직 개선을 통한 성능뿐만 아니라 클라우드, JDBC 등 인프라, 서비스 제공 업체에서 권장하는 라이브러리에 대한 성능 점검 및 테스트를 진행하며 다양한 관점에서의 성능 지연 및 해결 방안을 확인해야 한다.

- 클라우드 환경에서 IO지연에 대한 성능 저하
  - 데이터 처리량이 많은 상황에서 일시적으로 동시 사용자수가 증가하는 현상
  - 읽기 분산 및 다건 처리 변경(bulk insert)
  - Aurora io-optimized, io개선 시 cpu 사용률이 높아질 것을 대비하여 CPU증설
